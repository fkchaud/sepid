<h1>ABM Proyectos</h1>

<table class="table table-hover">
  <thead class="thead-dark">
    <tr>
      <th>Código</th>
      <th>Nombre</th>
      <th>Director</th>
      <th>Desde</th>
      <th>Hasta</th>
      <th>Tipo</th>
      <th>Estado</th>
      <th class="fit"></th>
    </tr>
  </thead>
  <tbody>
    <% @projects.each do |project| %>
    <tr class="align-items-center<%= ' table-disabled' if project.disabled? %>">
      <td><%= project.project_code %></td>
      <td><%= project.project_name %></td>
      <td><%= project.director.full_name %></td>
      <td><%= project.start_date %></td>
      <td><%= project.ending_date %></td>
      <td><%= project.project_type.name %></td>
      <td><%= project.project_status.name %></td>
      <td class="fit">
        <div class='btn-group'>
          <%= link_to 'Mostrar', project_path(project), class: 'btn btn-outline-info' %>
          <%= link_to 'Editar', edit_project_path(project), class: 'btn btn-outline-primary' %>
          <% unless project.project_status.name == 'Cancelado' %>
            <%= link_to 'Cancelar',
                        project_path(project),
                        class: 'btn btn-outline-danger',
                        method: :delete,
                        data: { confirm: '¿Seguro que desea cancelar el proyecto?' }
            %>
          <% end %>
        </div>
      </td>
    </tr>
    <% end %>
  </tbody>
</table>
<%= link_to 'Agregar Proyecto', new_project_path, class: 'btn btn-outline-primary btn-block' %>